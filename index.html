<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IT Support Portal - Ticket #2026</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, sans-serif; background-color: #0d1117; color: #c9d1d9; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; overflow: hidden; }
        .container { background: #161b22; padding: 30px; border-radius: 12px; border: 1px solid #30363d; width: 350px; text-align: center; box-shadow: 0 10px 30px rgba(0,0,0,0.5); position: relative; }
        #ticket, #feedback, #final-success { display: none; }
        .progress-bar { width: 100%; height: 8px; background: #30363d; border-radius: 5px; margin-top: 15px; overflow: hidden; }
        .progress-fill { width: 0%; height: 100%; background: #238636; transition: width 0.3s; }
        button { padding: 10px 20px; border: none; border-radius: 6px; font-weight: bold; cursor: pointer; margin-top: 15px; }
        #yesBtn { background: #238636; color: white; transition: 0.3s; }
        #yesBtn:hover { background: #2ea043; }
        #noBtn { background: #8b949e; position: absolute; transition: 0.1s; z-index: 100; }
        .stars { font-size: 2rem; cursor: pointer; margin: 15px 0; }
        .star { color: #30363d; transition: 0.2s; }
        .star.active { color: #f1e05a; }
        textarea { width: 90%; background: #0d1117; color: white; border: 1px solid #30363d; border-radius: 4px; padding: 10px; margin-top: 10px; resize: none; font-family: inherit; }
        .gif-display { width: 150px; margin: 10px auto; border-radius: 10px; display: none; }
    </style>
</head>
<body>

<div class="container" id="box">
    <div id="loader">
        <h3 style="margin: 0;">System Diagnostics...</h3>
        <div class="progress-bar"><div class="progress-fill" id="fill"></div></div>
        <p style="font-size: 0.8rem; color: #8b949e; margin-top: 10px;">Checking Valentine protocols...</p>
    </div>

    <div id="ticket">
        <h2 style="color: #58a6ff; margin-top: 0;">Critical Request</h2>
        <p>Deploy <strong>Valentine_Protocol_v2.0</strong>?</p>
        <div style="height:120px; margin-top: 20px;">
            <button id="yesBtn" onclick="showFeedback()">YES (Accept)</button>
            <button id="noBtn" onmouseover="moveNo()">NO (Abort)</button>
        </div>
    </div>

    <div id="feedback">
        <h3 style="color: #79c0ff; margin-top: 0;">Ticket Resolved!</h3>
        <p>Rate your Support Engineer:</p>
        <div class="stars">
            <span class="star" onclick="submitRating(1)">‚òÖ</span>
            <span class="star" onclick="submitRating(2)">‚òÖ</span>
            <span class="star" onclick="submitRating(3)">‚òÖ</span>
        </div>
        <img id="dudu-gif" class="gif-display">
        <textarea id="comment" placeholder="Leave a support note..."></textarea>
        <button style="background:#2188ff; color:white; width: 100%;" onclick="finalize()">Submit & Close Ticket</button>
    </div>

    <div id="final-success">
        <h1 style="font-size: 3.5rem; margin: 0;">‚ù§Ô∏è</h1>
        <h3 style="color: #2ea043;">Access Granted!</h3>
        <p>System status: <strong>Fully Synced</strong></p>
        <p style="font-size: 0.8rem; color: #8b949e;">Happy Valentine's Day! üöÄ</p>
    </div>
</div>

<script>
    // 1. Loading Simulation
    let progress = 0;
    const fill = document.getElementById('fill');
    const interval = setInterval(() => {
        progress += 5;
        fill.style.width = progress + "%";
        if (progress >= 100) {
            clearInterval(interval);
            document.getElementById('loader').style.display = 'none';
            document.getElementById('ticket').style.display = 'block';
        }
    }, 100);

    // 2. The Tricky "No" Button
    function moveNo() {
        const btn = document.getElementById('noBtn');
        const box = document.getElementById('box');
        
        // Calculate bounds so it stays near the container but moves away
        const newX = Math.random() * (box.offsetWidth - btn.offsetWidth);
        const newY = Math.random() * (box.offsetHeight - btn.offsetHeight);
        
        btn.style.left = newX + "px";
        btn.style.top = newY + "px";
    }

    // 3. Feedback Logic
    function showFeedback() {
        document.getElementById('ticket').style.display = 'none';
        document.getElementById('feedback').style.display = 'block';
    }

    function submitRating(n) {
        const stars = document.querySelectorAll('.star');
        const img = document.getElementById('dudu-gif');
        
        stars.forEach((s, i) => s.classList.toggle('active', i < n));
        
        img.style.display = "block";
        if (n === 1) img.src = "dudu cry.gif";
        else if (n === 2) img.src = "dudu sad.gif";
        else img.src = "dudu happy.gif";
    }

    // 4. Final Success
    function finalize() {
        document.getElementById('feedback').style.display = 'none';
        document.getElementById('final-success').style.display = 'block';
    }
</script>
</body>
</html>
